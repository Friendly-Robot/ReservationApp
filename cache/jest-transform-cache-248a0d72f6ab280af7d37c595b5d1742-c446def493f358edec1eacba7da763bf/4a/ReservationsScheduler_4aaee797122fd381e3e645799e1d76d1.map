{"version":3,"sources":["ReservationsScheduler.js"],"names":["closeModal","name","setName","hotel","setHotel","arrival","setArrival","departure","setDeparture","date","Date","day","getDate","length","nextDay","month","getMonth","year","getFullYear","createReservation","query","reservationQuery","createReservationMutation","data","styles","container","variables","id","Math","random","hotelName","arrivalDate","departureDate","then","res","console","log","catch","err","warn","StyleSheet","create","flexGrow","paddingTop"],"mappings":"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","sourcesContent":["/*\n* @flow\n*/\n\nimport React, { useState } from 'react';\nimport { Modal, StyleSheet, ScrollView, Text } from 'react-native';\n\nimport { Mutation } from 'react-apollo';\nimport createReservation from '../../graphql/mutations/createReservations';\nimport reservationQuery from '../../graphql/queries/reservationQuery';\n\nimport HeaderTitle from '../../common/HeaderTitle';\nimport InputRegular from '../../common/InputRegular';\nimport ButtonAction from '../../common/ButtonActionRound';\n\nimport theme from '../../theme';\n\ntype props = {\n  closeModal: Function,\n};\n\nexport default ({ closeModal = () => {} }: props) => {\n  const [name, setName] = useState('');\n  const [hotel, setHotel] = useState('');\n  const [arrival, setArrival] = useState('');\n  const [departure, setDeparture] = useState('');\n\n  const date = new Date();\n  const day = `${date.getDate()}`.length < 2 ? `0${date.getDate()}` : `${date.getDate()}`;\n  const nextDay = `${date.getDate()}`.length < 2 ? `0${date.getDate() + 1}` : `${date.getDate() + 1}`;\n  const month = `${date.getMonth() + 1}`.length < 2 ? `0${date.getMonth() + 1}` : `${date.getMonth() + 1}`;\n  const year = `${date.getFullYear()}`.length < 2 ? `0${date.getFullYear()}` : `${date.getFullYear()}`;\n\n  return (\n    <Modal\n      animationType=\"slide\"\n      transparent={false}\n      visible\n      onRequestClose={closeModal}\n    >\n      <HeaderTitle\n        buttonPress={closeModal}\n        buttonValue={'-'}\n        title={'New Reservation'}\n      />\n      <Mutation mutation={createReservation} refetchQueries={[{ query: reservationQuery }]}>\n        {(createReservationMutation, { data }) => (\n          <ScrollView\n            contentContainerStyle={styles.container}\n            keyboardShouldPersistTaps={'never'}\n          >\n            <InputRegular\n              label={'Hotel'}\n              onChange={setHotel}\n              placeholder={'Hilton'}\n              value={hotel}\n            />\n            <InputRegular\n              label={'Guest Name'}\n              onChange={setName}\n              placeholder={'John Doe'}\n              value={name}\n            />\n            <InputRegular\n              label={'Arrival'}\n              onChange={setArrival}\n              placeholder={`${month}/${day}/${year}`}\n              value={arrival}\n            />\n            <InputRegular\n              label={'Departure'}\n              onChange={setDeparture}\n              placeholder={`${month}/${nextDay}/${year}`}\n              value={departure}\n            />\n            <ButtonAction\n              onPress={() => {\n                createReservationMutation({\n                  variables: {\n                    id: `${Math.random()}`,\n                    hotelName: hotel,\n                    name,\n                    arrivalDate: arrival,\n                    departureDate: departure,\n                  }\n                })\n                  .then(res => {\n                    closeModal();\n                    console.log('Successfully added reservation!', res);\n                  })\n                  .catch(err => console.warn('Error adding new reservation:', err));\n              }}\n            />\n          </ScrollView>\n        )}\n      </Mutation>\n    </Modal>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexGrow: 1,\n    paddingTop: 40,\n  },\n});\n"]}